Most cmmon Linux Commands


===Linux Repositories
leafpad /etc/apt/sources.list

===Install VMware Tools
open-vm-tools-desktop fuse                                                  
====Printer drivers
apt install cups cups-client foomatic-db

===Screen Catpure Keyboard Shotcuts
ctrl+print  - Print Screen
alt-print   - Print Windows
shift-print - Print Area
Alt-Tab     - Cycle through programs


===To create a live buid to the following
apt-get install curl git live-build cdebootstrap
git clone git://git.kali.org/live-build-config.git
cd live-build-config
 ./build.sh --distribution kali-rolling --verbose

To add packages to the build

live-build-config/kali-config/variant-default/package-lists/kali.list.chroot:

# Kali applications

# You can customize the set of Kali applications to install
# (-full is the default, -all is absolutely everything, the rest
# corresponds to various subsets)
# Graphical desktop
kali-desktop-gnome
---List sofware here---


===Persistant Kali Linux
  Move ISO to USB
  Mini-Partition-Tool
	Resize
	Create EXT4, Primary
	Label, persistence
  In Kali
  fdisk -l  -identify mount point
or
  lsblk
  mkdir -p /mnt/usb
  mount /dev/sdbx /mnt/usb
  echo "/ union" > /mnt/usb/persistence.conf
        the space before union is inportant
  umount /dev/sdbx 

===Reset Kali Interface Scaling for enlarge screen
gsettings set org.gnome.desktop.interface scaling-factor 1

===Change command shell
chsh  - change shell

===Dictory and File Operationsls
ls or ls -a List the dir
Change host name: modidy /etc/hostname file and /etc/hosts
pwd	- Show the current directory
cd	-change directory
cd ~	-change to home dir
cd 	-change to home dir
mkdir 	-make directory
rm	-remove directory or file
rm -fr	-remove directory in trash
chmod +x filename   -modify file attributes
chmod 755 filename  -modify file attributes
chmod 777 filename  -give full control
updatedb and locate and which - which searches the path
find / -name filename or directory  -file files or folders
cp 	-copy one or more files to another location
df -h 	-display free disk space
du	-estimate file space usage
free -g, Free -m  - Show sysem memory 
lscpu	- display CPU information
lsusb 	- display usb devices connect the the client
lsblk	- display block devices, HD partitions and drive info
mount /dev/devicename /root for example
lsb_release -a -display linux version details
fdisk	- disk partition info
gzip  	-compress or decompress named file(s)
uname -a -show system informaion
whoami   -show how you are logged in
scripts #!/bin/bash
less  - list a file contents
env	-view environment varables
Trash	-located in .local/share/Trash
systemctl enable service name  Start automatically

===Add directory to $PATH 
neno .profile
add to bottom of file after fi statement
export PATH=$PATH:/path/to/dir

===Reset host name and password
hostnemectl set-hostname name - set host name
===Reset Password
passwd  Enter

===Mount exfat partition
Get the exfat-fuse utility
apt install fuse exfat-fuse
Find the ntfs volume
lsblk
Creatre a mount point
mkdir /media/ext 
Mount the drive
mount /dev/sda1 /media/ext
add /dev/sda1 /medai/ext to the /etc/fstab file

===Install and Update Apps
apt-get install aptitude
aptitude install kali-linux-full
apt update and apt upgrade -y
apt install package
apt autoremove  - packages the need to be auto removed
apt-get update 
apt-get upgrade
apt-get dist-upgrade   will install the latest distribution.
apt-get aptitude upgrade
apt-get purge package	Delete package and config files
apt-get remove packate	Remove package but not config files
apt-get install kali-linux-all
apt-get install kali-linux-full
apt-get install openofficce.org
apt-get install flashplugin-nonfree	
apt-get install openssh-server 
apt-get install metasploit-framework
apt-get Install isc-dhcp-server
apt-get install fern-wifi-cracker
apt-get install wireless-tools - needed for debian standard install
apt-cache search firmware wireless
apt-get install ap-utils
apt-get install firmware-realtek
apt-get install veil or 
git clone https://github.com/Veil-Framework/Veil.git
git clone https://github.com/Veil-Framework/Veil-Evasion
git clone https://github.com/trustedsec/social-engineer-toolkit.git
git clone https://github.com/Trig0n/WarPi.git

=====ifconfig
ifconfig has been suspended
try ip a
or apt install net-tools to bring it back

========= Log Files
journal -xn Number of lines
journal -xb  log files form boot


===Install Atom Text Editor
wget https://atom.io/download/atom-text-editor
dpkg -i filename

===crunch
crunch 8 15 | aircrack-ng -a2 -b 00:0d:93:eb:b0:8c -w - wpa.cap





===Bash Script Header
#!/bin/bash          

===Metasploit Frame-work Install and Config
apt-get install postgresql
apt-get install metasploit-framework
systemctl start postgresql
systemctl enable postgresql
msfdb init   /initalize and create the database

===Network
iwlist wlan0 scan 	-to find out what access points are out there.
ifconfig	-find wired net configuration
iwconfig	-find wireles
s networks
lsusb 		-list usb devices connected
ifdown		-down a particular interface
kill PID Number	-kill a particular process

===Services
service -–status-all	-show services
ssh-keygen -t rsa	-install certificates
systemctl start ssh -start ssh
systemctl enable ssh -start ssh on boot

systemctl start	network -start netwwok
systemctl enable netwrok

===Matasploit
service postgresql start
msfconsole -r <handler name>
exec bundle install

Simple Ducky
java -jar duckencode.jar -i payload.txt


===Apache Web Server 
systemctl start apache2
systemctl enable apache2
Start Apache2 and Mysql at startup
systemcel enable mysql
systemctl enable postgresql
Make the default web directory var/www
nano /etc/apache2/sites-available/000.default.conf
Change the default Documentroot to //var/www  - remove the refference to the html folder

===NG tools
Kali Linux airmon-ng
ifconfig wlan0mon down
iwconfig wlan0mon mode monitor
ifconfig wlan0mon up 

airmin-ng check wlan0  - check to see if any proecess need to be killed defore going into monitor mode.
airmon-ng start wlan0
airodump-ng mon0
airodump-ng –c Ch# mon0 = isolate the channel
airodump-ng –w myffile –c 1 --bssid MAC Address mon0
aireplay-ng -0 2 –a MACADDR mon0 --ignoe-negative-zero = DeAuth  command
Aircrack-ng ourfile-01.cap –w Darknew.lst

===Fine Tuning Password Dictionary
Kalitut.com

So let's take a copy of rockyou.txt.gz to  root directory
To do so write this command: 
cp /usr/share/wordlists/rockyou.txt.gz /root

Now to unzip it type:
gunzip rockyou.txt.gz

To know how many passwords this file contains type:
wc -l rockyou.txt
The password inside this file include password's with more and less then 8 characters
so if you want to use it for WPA2 penetration it's better to make a dictionary that contain passwords with minimum 8 characters  so it become a  wpa dictionary
To do that type this commend :
cat rockyou.txt | sort | uniq | pw-inspector -m 8 -M 63 > rockyou-8-63.txt

Other list can be found at
https://hashes.org/crackers.php
and
https://wiki.skullsecurity.org/Passwords

===Poweroff and Shutdown
poweroff
shutdown

===Install and configure remote desktop
apt-get install x11vnc
x11vnc -storepasswd 
Run Startx at least one time to
automatically create the .config and 
autostart directory
cd .config
cd autostart
nano x11vnc.desktop 

[Desktop Entry]
Encoding=UTF-8
Type=Application
Name=X11VNC
Exec=x11vnc -forever -usepw -display :0 -ultrafilexfer
StartupNotify=false
Terminal=false
Hidden=false 


===Raspberry PI AutoLogin xfce4
I made the following changes to /etc/lightdm/lightdm.conf:
Under the heading [Seat:0] (should be below the [SeatDefaults] section), I set the following options:
The new rolling needs the folling instead of Seat:0
[Seat:*]
pam-service=lightdm
pam-autologin-service=lightdm-autologin
autologin-user=root
autologin-user-timeout=0

This enables the Pluggable Authentication Module (PAM) service for LightDM autologins, allowing it to authenticate users without intervention.
Information sourced from the ArchWiki: https://wiki.archlinux.org/index.php/LightDM#Enabling_autologin

===Raspberry PI Guake Install
nano Guake.desktop

[Desktop Entry]
Encoding=UTF-8
Version=0.9.4
Type=Application
Name=Guake
Comment=
Exec=guake
OnlyShowIn=XFCE;
StartupNotify=false
Terminal=false
Hidden=false

===Nessus
open vass
Nexpose
Nessus
www.tenable.com
dpkg -i filename
 - You can start nessusd by typing /etc/init.d/nessusd start
 - Then go to https://kali:8834/ to configure your scanner
Nessus Must be Registered
http://www.nessus.org/plugins/index.php

Shell Script files
login shell
non-login shell
~/.bashrc  - non-login shell and sometime login shell
/etc/profile - non login shell system wide
	~/.bash_profile
	~/.bash_login	- login shell
	~/.profile      - login shell
	~/.bash_logout  - login shell

Auto login - Gnome Desktop
/etc/gdm3/daemon.conf
# Enabling automatic login
AutomaticLoginEnable = true
AutomaticLogin = root

Network Static IP
======================
nano /etc/network/interface

auto eth0 #interface name
 allow-hotplug eth0 
 iface eth0 inet static
 address 172.100.100.x
 netmask 255.255.0.0 
 broadcast 255.255.0.0
 gateway 172.100.100.x 

and

nano /etc/resolv.conf
domain megacorp.dom
search megacorp.dom
nameserver 172.100.x



Change wlan1 to wlan0
open the file located at
/etc/udev/rules.d/ and change the network name
reboot the machine or stop and start the network
#To start Linux network service:
service network start

#To stop Linux network service:
service network stop

#Add user and password
useradd -m user1
passwd user1

================
VPN Connection to Server
apt-get install pptp-linux

nano /etc/ppp/peers/vpn
pty "pptp 172.30.30.1 --nolaunchpppd --debug"
name vpnuser
password Vplabuser!1
remotename PPTP
require-mppe-128
require-mschap-v2
refuse-eap
refuse-pap
refuse-chap
refuse-mschap
noauth
debug
persist
maxfail 0
defaultroute
replacedefaultroute
usepeerdns

pon vpn-connect

========================
Add Color for Raspberry pi terminal
nano .bashrc
add to following to the end for the file and reboot
alias ls='ls --color'

=======================
Fix Kalu Update giving blank login after update
1.Text editor open up /etc/default/grub 
2. search for line that says "GRUB_CMDLINE_LINUX_DEFAULT="quiet" and change to  "quiet nomodeset"
3. Save file
4. in terminal type: update-grub


